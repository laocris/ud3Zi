<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Vocabulario b√°sico UD3 de Chino 2</title>
  <script src="https://cdn.jsdelivr.net/npm/hanzi-writer@3.5/dist/hanzi-writer.min.js"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Ma+Shan+Zheng&family=Noto+Serif+SC:wght@400;700&display=swap');
    
    * {
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Noto Serif SC', serif;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      min-height: 100vh;
      margin: 0;
      background: linear-gradient(135deg, #f5f5dc 0%, #fff8dc 50%, #faf0e6 100%);
      text-align: center;
      padding: 20px;
      position: relative;
      overflow-x: hidden;
    }
    
    body::before {
      content: "";
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-image: 
        repeating-linear-gradient(
          90deg,
          transparent,
          transparent 100px,
          rgba(139, 69, 19, 0.03) 100px,
          rgba(139, 69, 19, 0.03) 101px
        ),
        repeating-linear-gradient(
          0deg,
          transparent,
          transparent 100px,
          rgba(139, 69, 19, 0.03) 100px,
          rgba(139, 69, 19, 0.03) 101px
        );
      pointer-events: none;
      z-index: 1;
    }
    
    body::after {
      content: "";
      position: fixed;
      bottom: 30px;
      right: 30px;
      width: 120px;
      height: 120px;
      background-image: url('./laolao.png');
      background-size: contain;
      background-repeat: no-repeat;
      background-position: center;
      opacity: 0.6;
      filter: contrast(1.2) sepia(0.3);
      border-radius: 10%;
      box-shadow: 0 0 20px rgba(139, 0, 0, 0.2);
      z-index: 10;
    }
    
    .container {
      display: flex;
      width: 100%;
      max-width: 1200px;
      position: relative;
      z-index: 2;
    }
    
    h1.main-title {
      font-family: 'Ma Shan Zheng', cursive;
      font-size: 2.5rem;
      color: #8b0000;
      margin-bottom: 30px;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
      position: relative;
      padding: 10px 30px;
    }
    
    h1.main-title::before,
    h1.main-title::after {
      content: "„Äú";
      position: absolute;
      color: #cd5c5c;
      font-size: 1.5rem;
    }
    
    h1.main-title::before {
      left: 0;
    }
    
    h1.main-title::after {
      right: 0;
    }
    
    .sidebar {
      width: 200px;
      margin-right: 20px;
      background: linear-gradient(to bottom, #fff, #faf8f3);
      border: 2px solid #8b4513;
      border-radius: 10px;
      padding: 15px;
      overflow-y: auto;
      max-height: 80vh;
      box-shadow: 0 4px 15px rgba(139, 69, 19, 0.2);
      position: relative;
    }
    
    .sidebar::before {
      position: absolute;
      top: -15px;
      right: 10px;
      font-family: 'Ma Shan Zheng', cursive;
      font-size: 30px;
      color: rgba(139, 0, 0, 0.2);
      transform: rotate(15deg);
    }
    
    .sidebar h3 {
      margin-top: 0;
      font-size: 18px;
      color: #8b0000;
      font-family: 'Ma Shan Zheng', cursive;
      border-bottom: 2px solid #cd5c5c;
      padding-bottom: 8px;
    }
    
    .sidebar ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }
    
    .sidebar li {
      margin: 8px 0;
    }
    
    .sidebar button {
      width: 100%;
      padding: 10px;
      background: linear-gradient(to right, #faf8f3, #fff);
      border: 1px solid #8b4513;
      cursor: pointer;
      text-align: left;
      border-radius: 5px;
      font-size: 14px;
      font-family: 'Noto Sans SC', serif;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }
    
    .sidebar button:hover {
      background: linear-gradient(to right, #fff8dc, #ffefd5);
      border-color: #8b0000;
      transform: translateX(3px);
    }
    
    .sidebar button.active {
      background: linear-gradient(to right, #8b0000, #cd5c5c);
      color: white;
      border-color: #8b0000;
      box-shadow: 0 2px 8px rgba(139, 0, 0, 0.3);
    }
    
    .main-content {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    
    .character-display-section {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-bottom: 20px;
      position: relative;
    }
    
    #character-target-div {
      border: 3px solid #8b4513;
      background: linear-gradient(135deg, #fffaf0 0%, #fff 100%);
      margin: 20px 0 10px 0;
      width: 150px;
      height: 150px;
      border-radius: 10px;
      box-shadow: 0 4px 15px rgba(139, 69, 19, 0.2);
      position: relative;
    }
    
    #character-target-div::after {
      content: "";
      position: absolute;
      top: -8px;
      right: -8px;
      width: 20px;
      height: 20px;
      background: radial-gradient(circle, #cd5c5c, #8b0000);
      border-radius: 50%;
      box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    }
    
    .replay-button {
      padding: 10px 20px;
      background: linear-gradient(135deg, #cd853f, #daa520);
      color: white;
      border: 1px solid #8b4513;
      border-radius: 20px;
      cursor: pointer;
      font-size: 14px;
      font-family: 'Noto Serif SC', serif;
      display: flex;
      align-items: center;
      gap: 8px;
      margin: 0 auto;
      transition: all 0.3s ease;
      box-shadow: 0 3px 10px rgba(139, 69, 19, 0.3);
    }
    
    .replay-button:hover {
      background: linear-gradient(135deg, #b8860b, #cd853f);
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(139, 69, 19, 0.4);
    }
    
    .replay-button:active {
      transform: translateY(0);
    }
    
    .canvas-container {
      position: relative;
      margin: 20px 0;
      padding: 15px;
      background: white;
      border-radius: 10px;
      box-shadow: inset 0 0 10px rgba(139, 69, 19, 0.1);
      display: flex;
      justify-content: center;
      align-items: center;
      width: 100%;
    }
    
    #character-canvas {
      border: 2px solid #8b4513;
      border-radius: 8px;
      cursor: crosshair;
      background: linear-gradient(to bottom right, #fffaf0, #fff);
      touch-action: none;
      box-shadow: 0 2px 10px rgba(139, 69, 19, 0.2);
      max-width: 100%;
      height: auto;
    }
    
    .canvas-controls {
      margin-top: 15px;
      display: flex;
      gap: 10px;
      justify-content: center;
      align-items: center;
      flex-wrap: wrap;
      width: 100%;
      padding: 0 10px;
    }
    
    .canvas-controls button {
      padding: 10px 18px;
      font-size: 14px;
      background: linear-gradient(135deg, #4682b4, #5f9ea0);
      color: white;
      border: 1px solid #2f4f4f;
      cursor: pointer;
      border-radius: 20px;
      font-family: 'Noto Serif SC', serif;
      transition: all 0.3s ease;
      box-shadow: 0 2px 8px rgba(70, 130, 180, 0.3);
      white-space: nowrap;
      flex-shrink: 0;
    }
    
    .canvas-controls button:hover {
      background: linear-gradient(135deg, #5f9ea0, #4682b4);
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(70, 130, 180, 0.4);
    }
    
    .clear-button {
      background: linear-gradient(135deg, #dc143c, #b22222) !important;
      border: 1px solid #8b0000 !important;
    }
    
    .clear-button:hover {
      background: linear-gradient(135deg, #b22222, #dc143c) !important;
    }
    
    .stroke-control {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 8px 15px;
      background: #faf8f3;
      border-radius: 20px;
      border: 1px solid #8b4513;
      flex-shrink: 0;
    }
    
    .stroke-control input {
      width: 100px;
    }
    
    .nav-buttons {
      margin-top: 20px;
      display: flex;
      gap: 15px;
      justify-content: center;
    }
    
    .nav-buttons button {
      padding: 12px 25px;
      font-size: 16px;
      background: linear-gradient(135deg, #8b0000, #cd5c5c);
      color: white;
      border: 1px solid #8b0000;
      cursor: pointer;
      border-radius: 25px;
      font-family: 'Noto Serif SC', serif;
      transition: all 0.3s ease;
      box-shadow: 0 3px 10px rgba(139, 0, 0, 0.3);
    }
    
    .nav-buttons button:hover {
      background: linear-gradient(135deg, #cd5c5c, #8b0000);
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(139, 0, 0, 0.4);
    }
    
    #current-word {
      font-size: 24px;
      margin-bottom: 15px;
      padding: 15px 30px;
      background: linear-gradient(to right, #faf8f3, #fff);
      border: 2px solid #8b4513;
      border-radius: 30px;
      color: #000;
      box-shadow: 0 3px 10px rgba(139, 69, 19, 0.2);
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 15px;
      min-width: 300px;
    }
    
    #current-word::before,
    #current-word::after {
      content: "‚Ä¢";
      position: absolute;
      color: #cd5c5c;
      font-size: 20px;
    }
    
    #current-word::before {
      left: 10px;
    }
    
    #current-word::after {
      right: 10px;
    }

    .hanzi {
      font-family: 'Ma Shan Zheng', cursive;
      font-size: 36px;
      color: #8b0000;
      font-weight: normal;
      text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
    }

    .info {
      font-family: 'Noto Serif SC', serif;
      font-size: 18px;
      font-weight: 400;
      color: #333;
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      line-height: 1.4;
    }

    .info .pinyin {
      color: #4682b4;
      font-family: sans-serif;
      font-weight: 700;
      margin-bottom: 2px;
    }

    .info .spanish {
      color: #555;
      font-size: 16px;
    }
    
    .practice-section {
      background: linear-gradient(135deg, #fff, #faf8f3);
      padding: 25px;
      border-radius: 15px;
      margin-top: 20px;
      box-shadow: 0 4px 15px rgba(139, 69, 19, 0.2);
      width: 100%;
      max-width: 400px;
      border: 2px solid #8b4513;
      position: relative;
    }
    
    .practice-section::before {
      position: absolute;
      top: -12px;
      left: 20px;
      background: linear-gradient(135deg, #fff, #faf8f3);
      padding: 0 10px;
      font-family: 'Ma Shan Zheng', cursive;
      font-size: 20px;
      color: #8b0000;
    }
    
    .practice-section h3 {
      margin-top: 0;
      color: #8b0000;
      font-family: 'Ma Shan Zheng', cursive;
      font-size: 22px;
    }
    
    .mobile-menu-toggle {
      display: none;
      width: 100%;
      padding: 12px;
      background: linear-gradient(135deg, #8b0000, #cd5c5c);
      color: white;
      border: 1px solid #8b0000;
      border-radius: 25px;
      font-size: 16px;
      margin-bottom: 10px;
      cursor: pointer;
      font-family: 'Noto Serif SC', serif;
      box-shadow: 0 3px 10px rgba(139, 0, 0, 0.3);
    }

    .audio-button {
      background: linear-gradient(135deg, #87ceeb, #4682b4);
      border-radius: 50%;
      width: 35px;
      height: 35px;
      border: 2px solid #4682b4;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      transition: all 0.3s ease;
      box-shadow: 0 4px 10px rgba(70, 130, 180, 0.3);
      position: absolute;
      top: 20px;
      right: -50px;
    }

    .audio-button:hover {
      background: linear-gradient(135deg, #4682b4, #87ceeb);
      transform: scale(1.1) rotate(10deg);
      box-shadow: 0 6px 15px rgba(70, 130, 180, 0.4);
    }

    .audio-button:active {
      transform: scale(0.95);
    }

    .attribution {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      width: 100%;
      text-align: center;
      padding: 20px 10px;
      margin-top: 40px;
      font-size: 14px;
      color: #8b4513;
      background: linear-gradient(to right, transparent, #faf8f3, transparent);
      border-radius: 20px;
      font-family: 'Noto Serif SC', serif;
    }

    .attribution a {
      color: #8b0000;
      text-decoration: none;
      font-weight: bold;
      transition: color 0.3s ease;
    }

    .attribution a:hover {
      color: #cd5c5c;
      text-decoration: underline;
    }
    
    @media (max-width: 768px) {
      body {
        padding: 15px;
      }
      
      body::after {
        width: 80px;
        height: 80px;
        bottom: 20px;
        right: 20px;
      }
      
      .container {
        flex-direction: column;
      }
      
      .sidebar {
        width: 100%;
        margin-right: 0;
        margin-bottom: 20px;
        max-height: 300px;
      }
      
      .practice-section {
        padding: 15px;
        max-width: 100%;
        width: calc(100% - 20px);
      }

      .canvas-container {
        padding: 10px;
      }
      
      #character-canvas {
        width: 220px !important;
        height: 220px !important;
      }
      
      .audio-button {
        position: static;
        margin-bottom: 10px;
      }

      #current-word {
        flex-direction: column;
        gap: 8px;
        min-width: auto;
        padding: 12px 25px;
      }

      .hanzi {
        font-size: 32px;
      }

      .info {
        align-items: center;
        text-align: center;
      }

      .canvas-controls {
        gap: 8px;
        padding: 0 5px;
      }

      .canvas-controls button {
        padding: 8px 12px;
        font-size: 13px;
      }

      .stroke-control {
        width: 100%;
        justify-content: center;
        padding: 6px 10px;
      }

      .stroke-control input {
        width: 80px;
      }
    }
    
    @media (max-width: 600px) {
      body {
        padding: 10px;
      }
      
      body::after {
        width: 60px;
        height: 60px;
        bottom: 15px;
        right: 15px;
      }
      
      .mobile-menu-toggle {
        display: block;
      }
      
      .sidebar {
        display: none;
        width: 100%;
        margin-right: 0;
        margin-bottom: 15px;
        max-height: 250px;
      }
      
      .sidebar.show {
        display: block;
      }
      
      .sidebar h3 {
        font-size: 16px;
      }
      
      .sidebar button {
        padding: 8px;
        font-size: 12px;
      }
      
      #current-word {
        font-size: 18px;
        margin-bottom: 10px;
        padding: 10px 20px;
        flex-direction: column;
        gap: 5px;
        min-width: auto;
        width: calc(100% - 20px);
      }

      .hanzi {
        font-size: 28px;
      }

      .info {
        font-size: 14px;
        align-items: center;
        text-align: center;
      }

      .info .spanish {
        font-size: 13px;
      }
      
      #character-target-div {
        width: 120px !important;
        height: 120px !important;
        margin: 15px 0 10px 0;
      }
      
      .replay-button {
        font-size: 13px;
        padding: 8px 15px;
      }
      
      .practice-section {
        padding: 12px;
        margin-top: 15px;
        width: calc(100% - 10px);
      }
      
      .practice-section h3 {
        font-size: 18px;
        margin-bottom: 10px;
      }

      .canvas-container {
        padding: 8px;
        margin: 10px 0;
      }
      
      #character-canvas {
        width: 180px !important;
        height: 180px !important;
      }
      
      .canvas-controls {
        flex-direction: column;
        gap: 6px;
        padding: 0;
        width: 100%;
      }
      
      .canvas-controls button {
        width: 100%;
        padding: 8px;
        font-size: 12px;
      }
      
      .stroke-control {
        width: 100%;
        justify-content: center;
        padding: 6px 10px;
      }

      .stroke-control input {
        width: 70px;
      }

      .stroke-control label {
        font-size: 13px;
      }
      
      .nav-buttons {
        flex-wrap: wrap;
        gap: 8px;
        width: 100%;
        padding: 0 5px;
      }
      
      .nav-buttons button {
        flex: 1;
        min-width: 120px;
        padding: 10px 12px;
        font-size: 14px;
      }
      
      .audio-button {
        position: static;
        margin-bottom: 10px;
      }
    }
    
    @media (max-width: 400px) {
      body {
        padding: 5px;
      }
      
      body::after {
        width: 50px;
        height: 50px;
        bottom: 10px;
        right: 10px;
      }
      
      #current-word {
        font-size: 16px;
        padding: 8px 15px;
        flex-direction: column;
        gap: 3px;
        width: 100%;
      }

      .hanzi {
        font-size: 24px;
      }

      .info {
        font-size: 12px;
      }

      .info .spanish {
        font-size: 11px;
      }
      
      #character-target-div {
        width: 100px !important;
        height: 100px !important;
      }
      
      .replay-button {
        font-size: 12px;
        padding: 6px 12px;
      }
      
      .practice-section {
        padding: 10px;
        width: 100%;
        margin-left: 0;
        margin-right: 0;
      }
      
      .practice-section h3 {
        font-size: 16px;
        margin-bottom: 8px;
      }

      .canvas-container {
        padding: 5px;
      }
      
      #character-canvas {
        width: 160px !important;
        height: 160px !important;
      }
      
      .canvas-controls {
        gap: 5px;
      }
      
      .canvas-controls button {
        font-size: 11px;
        padding: 7px;
      }

      .stroke-control {
        padding: 5px 8px;
      }

      .stroke-control input {
        width: 60px;
      }

      .stroke-control label {
        font-size: 12px;
      }
      
      .nav-buttons button {
        font-size: 13px;
        padding: 8px 10px;
        min-width: 100px;
      }
    }
    
    @media (max-width: 350px) {
      #character-canvas {
        width: 140px !important;
        height: 140px !important;
      }
      
      .canvas-controls button {
        font-size: 10px;
        padding: 6px;
      }

      .stroke-control {
        font-size: 11px;
      }

      .stroke-control input {
        width: 50px;
      }
    }
    
    @media (max-width: 900px) and (orientation: landscape) {
      body {
        padding: 10px;
      }
      
      body::after {
        width: 60px;
        height: 60px;
        bottom: 10px;
        right: 10px;
      }
      
      .container {
        flex-direction: row;
      }
      
      .sidebar {
        width: 180px;
        margin-right: 15px;
        max-height: 70vh;
      }
      
      .sidebar h3 {
        font-size: 14px;
      }
      
      .sidebar button {
        padding: 6px;
        font-size: 12px;
      }
      
      #character-target-div {
        width: 100px !important;
        height: 100px !important;
      }
      
      .replay-button {
        font-size: 12px;
        padding: 6px 12px;
      }
      
      .practice-section {
        padding: 10px;
        max-width: 350px;
      }

      .canvas-container {
        padding: 8px;
      }
      
      #character-canvas {
        width: 180px !important;
        height: 180px !important;
      }

      .canvas-controls {
        gap: 6px;
      }

      .canvas-controls button {
        padding: 7px 10px;
        font-size: 12px;
      }
      
      .mobile-menu-toggle {
        display: none;
      }
      
      .sidebar {
        display: block !important;
      }
      
      .audio-button {
        width: 30px;
        height: 30px;
        font-size: 12px;
      }

      #current-word {
        font-size: 18px;
        padding: 10px 20px;
      }

      .hanzi {
        font-size: 28px;
      }

      .info {
        font-size: 14px;
      }
    }
  </style>
</head>
  <audio id="audio-Âπ¥" preload="auto">
    <source src="./audiosUD3/Âπ¥.m4a" type="audio/mp4">
</audio>
<audio id="audio-Êúà" preload="auto">
    <source src="./audiosUD3/Êúà.m4a" type="audio/mp4">
</audio>
<audio id="audio-Âè∑" preload="auto">
    <source src="./audiosUD3/Âè∑.m4a" type="audio/mp4">
</audio>
<audio id="audio-Êó•" preload="auto">
    <source src="./audiosUD3/Êó•.m4a" type="audio/mp4">
</audio>
<audio id="audio-Êòü" preload="auto">
    <source src="./audiosUD3/Êòü.m4a" type="audio/mp4">
</audio>
<audio id="audio-Êúü" preload="auto">
    <source src="./audiosUD3/Êúü.m4a" type="audio/mp4">
</audio>
<audio id="audio-‰ªä" preload="auto">
    <source src="./audiosUD3/‰ªä.m4a" type="audio/mp4">
</audio>
<audio id="audio-Á•ù" preload="auto">
    <source src="./audiosUD3/Á•ù.m4a" type="audio/mp4">
</audio>
<audio id="audio-Ë¥∫" preload="auto">
    <source src="./audiosUD3/Ë¥∫.m4a" type="audio/mp4">
</audio>
<audio id="audio-Ëøá" preload="auto">
    <source src="./audiosUD3/Ëøá.m4a" type="audio/mp4">
</audio>
<audio id="audio-Áîü" preload="auto">
    <source src="./audiosUD3/Áîü.m4a" type="audio/mp4">
</audio>
<audio id="audio-Âø´" preload="auto">
    <source src="./audiosUD3/Âø´.m4a" type="audio/mp4">
</audio>
<audio id="audio-‰πê" preload="auto">
    <source src="./audiosUD3/‰πê.m4a" type="audio/mp4">
</audio>
<audio id="audio-ÂèÇ" preload="auto">
    <source src="./audiosUD3/ÂèÇ.m4a" type="audio/mp4">
</audio>
<audio id="audio-Âä†" preload="auto">
    <source src="./audiosUD3/Âä†.m4a" type="audio/mp4">
</audio>
<audio id="audio-ËÅö" preload="auto">
    <source src="./audiosUD3/ËÅö.m4a" type="audio/mp4">
</audio>
<audio id="audio-‰ºö" preload="auto">
    <source src="./audiosUD3/‰ºö.m4a" type="audio/mp4">
</audio>
<audio id="audio-Âá∫" preload="auto">
    <source src="./audiosUD3/Âá∫.m4a" type="audio/mp4">
</audio>
<audio id="audio-Ëõã" preload="auto">
    <source src="./audiosUD3/Ëõã.m4a" type="audio/mp4">
</audio>
<audio id="audio-Á≥ï" preload="auto">
    <source src="./audiosUD3/Á≥ï.m4a" type="audio/mp4">
</audio>
<audio id="audio-Á∫¢" preload="auto">
    <source src="./audiosUD3/Á∫¢.m4a" type="audio/mp4">
</audio>
<audio id="audio-È∏°" preload="auto">
    <source src="./audiosUD3/È∏°.m4a" type="audio/mp4">
</audio>
<audio id="audio-Á§º" preload="auto">
    <source src="./audiosUD3/Á§º.m4a" type="audio/mp4">
</audio>
<audio id="audio-Áâ©" preload="auto">
    <source src="./audiosUD3/Áâ©.m4a" type="audio/mp4">
</audio>
<audio id="audio-Èº†" preload="auto">
    <source src="./audiosUD3/Èº†.m4a" type="audio/mp4">
</audio>
<audio id="audio-Áâõ" preload="auto">
    <source src="./audiosUD3/Áâõ.m4a" type="audio/mp4">
</audio>
<audio id="audio-Ëôé" preload="auto">
    <source src="./audiosUD3/Ëôé.m4a" type="audio/mp4">
</audio>
<audio id="audio-ÂÖî" preload="auto">
    <source src="./audiosUD3/ÂÖî.m4a" type="audio/mp4">
</audio>
<audio id="audio-Èæô" preload="auto">
    <source src="./audiosUD3/Èæô.m4a" type="audio/mp4">
</audio>
<audio id="audio-Ëõá" preload="auto">
    <source src="./audiosUD3/Ëõá.m4a" type="audio/mp4">
</audio>
<audio id="audio-È©¨" preload="auto">
    <source src="./audiosUD3/È©¨.m4a" type="audio/mp4">
</audio>
<audio id="audio-Áæä" preload="auto">
    <source src="./audiosUD3/Áæä.m4a" type="audio/mp4">
</audio>
<audio id="audio-Áå¥" preload="auto">
    <source src="./audiosUD3/Áå¥.m4a" type="audio/mp4">
</audio>
<audio id="audio-Áãó" preload="auto">
    <source src="./audiosUD3/Áãó.m4a" type="audio/mp4">
</audio>
<audio id="audio-Áå™" preload="auto">
    <source src="./audiosUD3/Áå™.m4a" type="audio/mp4">
</audio>
<audio id="audio-ËØæ" preload="auto">
    <source src="./audiosUD3/ËØæ.m4a" type="audio/mp4">
</audio>
<audio id="audio-Ëµ∑" preload="auto">
    <source src="./audiosUD3/Ëµ∑.m4a" type="audio/mp4">
</audio>
<audio id="audio-Â∫ä" preload="auto">
    <source src="./audiosUD3/Â∫ä.m4a" type="audio/mp4">
</audio>
<audio id="audio-Âà∑" preload="auto">
    <source src="./audiosUD3/Âà∑.m4a" type="audio/mp4">
</audio>
<audio id="audio-Áâô" preload="auto">
    <source src="./audiosUD3/Áâô.m4a" type="audio/mp4">
</audio>
<audio id="audio-Á©ø" preload="auto">
    <source src="./audiosUD3/Á©ø.m4a" type="audio/mp4">
</audio>
<audio id="audio-Ë°£" preload="auto">
    <source src="./audiosUD3/Ë°£.m4a" type="audio/mp4">
</audio>
<audio id="audio-Ê¥ó" preload="auto">
    <source src="./audiosUD3/Ê¥ó.m4a" type="audio/mp4">
</audio>
<audio id="audio-Á¢ó" preload="auto">
    <source src="./audiosUD3/Á¢ó.m4a" type="audio/mp4">
</audio>
<audio id="audio-Áù°" preload="auto">
    <source src="./audiosUD3/Áù°.m4a" type="audio/mp4">
</audio>
<audio id="audio-Ëßâ" preload="auto">
    <source src="./audiosUD3/Ëßâ.m4a" type="audio/mp4">
</audio>
<audio id="audio-Â§©" preload="auto">
    <source src="./audiosUD3/Â§©.m4a" type="audio/mp4">
</audio>
<audio id="audio-ÊóÖ" preload="auto">
    <source src="./audiosUD3/ÊóÖ.m4a" type="audio/mp4">
</audio>
<audio id="audio-Ë°å" preload="auto">
    <source src="./audiosUD3/Ë°å.m4a" type="audio/mp4">
</audio>
<audio id="audio-Âøò" preload="auto">
    <source src="./audiosUD3/Âøò.m4a" type="audio/mp4">
</audio>
<audio id="audio-Áå´" preload="auto">
    <source src="./audiosUD3/Áå´.m4a" type="audio/mp4">
</audio>
<audio id="audio-Ëøê" preload="auto">
    <source src="./audiosUD3/Ëøê.m4a" type="audio/mp4">
</audio>
<audio id="audio-Âä®" preload="auto">
    <source src="./audiosUD3/Âä®.m4a" type="audio/mp4">
</audio>
<audio id="audio-Áà±" preload="auto">
    <source src="./audiosUD3/Áà±.m4a" type="audio/mp4">
</audio>
<audio id="audio-Â•Ω" preload="auto">
    <source src="./audiosUD3/Â•Ω.m4a" type="audio/mp4">
</audio>
<audio id="audio-Ë∏¢" preload="auto">
    <source src="./audiosUD3/Ë∏¢.m4a" type="audio/mp4">
</audio>
<audio id="audio-ÁêÉ" preload="auto">
    <source src="./audiosUD3/ÁêÉ.m4a" type="audio/mp4">
</audio>
<audio id="audio-Áîª" preload="auto">
    <source src="./audiosUD3/Áîª.m4a" type="audio/mp4">
</audio>
<audio id="audio-ÁΩë" preload="auto">
    <source src="./audiosUD3/ÁΩë.m4a" type="audio/mp4">
</audio>
<audio id="audio-Â§ú" preload="auto">
    <source src="./audiosUD3/Â§ú.m4a" type="audio/mp4">
</audio>
<audio id="audio-Ë∫´" preload="auto">
    <source src="./audiosUD3/Ë∫´.m4a" type="audio/mp4">
</audio>
<audio id="audio-Ê∏∏" preload="auto">
    <source src="./audiosUD3/Ê∏∏.m4a" type="audio/mp4">
</audio>
<audio id="audio-Êàè" preload="auto">
    <source src="./audiosUD3/Êàè.m4a" type="audio/mp4">
</audio>
<audio id="audio-È¶Ü" preload="auto">
    <source src="./audiosUD3/È¶Ü.m4a" type="audio/mp4">
</audio>
<audio id="audio-Áé©" preload="auto">
    <source src="./audiosUD3/Áé©.m4a" type="audio/mp4">
</audio>
<audio id="audio-Êãç" preload="auto">
    <source src="./audiosUD3/Êãç.m4a" type="audio/mp4">
</audio>
<audio id="audio-Áâá" preload="auto">
    <source src="./audiosUD3/Áâá.m4a" type="audio/mp4">
</audio>
<div class="container">
    <button class="mobile-menu-toggle" onclick="toggleMobileMenu()">‚ò∞ Men√∫ de Caracteres</button>
    
    <div class="sidebar" id="sidebar">
      <h3>Selecciona un car√°cter</h3>
      <ul id="character-menu"></ul>
    </div>

    <div class="main-content">
      <div id="current-word"></div>
      
      <div class="character-display-section">
        <button class="audio-button" id="audio-button" onclick="playAudio()">
            üîä
          </button>
        <div id="character-target-div"></div>
        <button class="replay-button" onclick="replayAnimation()">
          ‚Üª Repetir animaci√≥n
        </button>
      </div>

      <div class="practice-section">
        <h3>Practica escribir el caracter</h3>
        <div class="canvas-container">
          <canvas id="character-canvas" width="250" height="250"></canvas>
        </div>
        <div class="canvas-controls">
          <button class="clear-button" onclick="clearCanvas()">Limpiar</button>
          <button onclick="toggleGuide()">Mostrar/Ocultar Gu√≠a</button>
          <div class="stroke-control">
            <label for="stroke-width">Grosor:</label>
            <input type="range" id="stroke-width" min="1" max="10" value="3">
            <span id="stroke-value">3</span>
          </div>
        </div>
      </div>

      <div class="nav-buttons">
        <button id="prev-button">‚Üê Anterior</button>
        <button id="next-button">Siguiente ‚Üí</button>
      </div>
      <div class="attribution">
          Audios provided by 
          <a href="https://es.linkedin.com/in/raquel-cubas-godoy-0427b71ba" 
            target="_blank" 
            rel="noopener noreferrer">
            Professor Raquel Cubas
          </a> 
          from ULPGC.
        </div>
    </div>
  </div>
  <script>
const characters = [
  { char: 'Âπ¥', pinyin: 'ni√°n', spanish: 'a√±o', audioId: 'audio-Âπ¥' },
  { char: 'Êúà', pinyin: 'yu√®', spanish: 'mes', audioId: 'audio-Êúà' },
  { char: 'Âè∑', pinyin: 'h√†o', spanish: 'n√∫mero/d√≠a (fecha)', audioId: 'audio-Âè∑' },
  { char: 'Êó•', pinyin: 'r√¨', spanish: 'd√≠a (formal)', audioId: 'audio-Êó•' },
  { char: 'Êòü', pinyin: 'xƒ´ng', spanish: 'estrella (semana)', audioId: 'audio-Êòü' },
  { char: 'Êúü', pinyin: 'qƒ´', spanish: 'per√≠odo (semana)', audioId: 'audio-Êúü' },
  { char: 'Á•ù', pinyin: 'zh√π', spanish: 'desear', audioId: 'audio-Á•ù' },
  { char: 'Ë¥∫', pinyin: 'h√®', spanish: 'felicitar', audioId: 'audio-Ë¥∫' },
  { char: 'Ëøá', pinyin: 'gu√≤', spanish: 'pasar/celebrar', audioId: 'audio-Ëøá' },
  { char: 'Áîü', pinyin: 'shƒìng', spanish: 'nacer', audioId: 'audio-Áîü' },
  { char: 'Âø´', pinyin: 'ku√†i', spanish: 'r√°pido/feliz', audioId: 'audio-Âø´' },
  { char: '‰πê', pinyin: 'l√®', spanish: 'feliz/alegr√≠a', audioId: 'audio-‰πê' },
  { char: 'ÂèÇ', pinyin: 'cƒÅn', spanish: 'participar', audioId: 'audio-ÂèÇ' },
  { char: 'Âä†', pinyin: 'jiƒÅ', spanish: 'a√±adir', audioId: 'audio-Âä†' },
  { char: 'ËÅö', pinyin: 'j√π', spanish: 'reunir', audioId: 'audio-ËÅö' },
  { char: '‰ºö', pinyin: 'hu√¨', spanish: 'reuni√≥n', audioId: 'audio-‰ºö' },
  { char: 'Âá∫', pinyin: 'ch≈´', spanish: 'salir', audioId: 'audio-Âá∫' },
  { char: 'Ëõã', pinyin: 'd√†n', spanish: 'huevo', audioId: 'audio-Ëõã' },
  { char: 'Á≥ï', pinyin: 'gƒÅo', spanish: 'pastel', audioId: 'audio-Á≥ï' },
  { char: 'Á∫¢', pinyin: 'h√≥ng', spanish: 'rojo', audioId: 'audio-Á∫¢' },
  { char: 'È∏°', pinyin: 'jƒ´', spanish: 'gallo', audioId: 'audio-È∏°' },
  { char: 'Á§º', pinyin: 'l«ê', spanish: 'regalo', audioId: 'audio-Á§º' },
  { char: 'Áâ©', pinyin: 'w√π', spanish: 'cosa (regalo)', audioId: 'audio-Áâ©' },
  { char: 'Èº†', pinyin: 'sh«î', spanish: 'rat√≥n', audioId: 'audio-Èº†' },
  { char: 'Áâõ', pinyin: 'ni√∫', spanish: 'buey/vaca', audioId: 'audio-Áâõ' },
  { char: 'Ëôé', pinyin: 'h«î', spanish: 'tigre', audioId: 'audio-Ëôé' },
  { char: 'ÂÖî', pinyin: 't√π', spanish: 'conejo', audioId: 'audio-ÂÖî' },
  { char: 'Èæô', pinyin: 'l√≥ng', spanish: 'drag√≥n', audioId: 'audio-Èæô' },
  { char: 'Ëõá', pinyin: 'sh√©', spanish: 'serpiente', audioId: 'audio-Ëõá' },
  { char: 'È©¨', pinyin: 'm«é', spanish: 'caballo', audioId: 'audio-È©¨' },
  { char: 'Áæä', pinyin: 'y√°ng', spanish: 'oveja', audioId: 'audio-Áæä' },
  { char: 'Áå¥', pinyin: 'h√≥u', spanish: 'mono', audioId: 'audio-Áå¥' },
  { char: 'Áãó', pinyin: 'g«íu', spanish: 'perro', audioId: 'audio-Áãó' },
  { char: 'Áå™', pinyin: 'zh≈´', spanish: 'cerdo', audioId: 'audio-Áå™' },
  { char: 'ËØæ', pinyin: 'k√®', spanish: 'clase', audioId: 'audio-ËØæ' },
  { char: 'Ëµ∑', pinyin: 'q«ê', spanish: 'levantarse', audioId: 'audio-Ëµ∑' },
  { char: 'Â∫ä', pinyin: 'chu√°ng', spanish: 'cama', audioId: 'audio-Â∫ä' },
  { char: 'Âà∑', pinyin: 'shuƒÅ', spanish: 'cepillar', audioId: 'audio-Âà∑' },
  { char: 'Áâô', pinyin: 'y√°', spanish: 'diente', audioId: 'audio-Áâô' },
  { char: 'Á©ø', pinyin: 'chuƒÅn', spanish: 'vestirse', audioId: 'audio-Á©ø' },
  { char: 'Ë°£', pinyin: 'yƒ´', spanish: 'ropa', audioId: 'audio-Ë°£' },
  { char: 'Ê¥ó', pinyin: 'x«ê', spanish: 'lavar', audioId: 'audio-Ê¥ó' },
  { char: 'Á¢ó', pinyin: 'w«én', spanish: 'plato', audioId: 'audio-Á¢ó' },
  { char: 'Áù°', pinyin: 'shu√¨', spanish: 'dormir', audioId: 'audio-Áù°' },
  { char: 'Ëßâ', pinyin: 'ji√†o', spanish: 'sue√±o', audioId: 'audio-Ëßâ' },
  { char: 'Áå´', pinyin: 'mƒÅo', spanish: 'gato', audioId: 'audio-Áå´' },
  { char: 'Ëøê', pinyin: 'y√πn', spanish: 'movimiento', unit: 3, audioId: 'audio-Ëøê' },
  { char: 'Âä®', pinyin: 'd√≤ng', spanish: 'moverse', unit: 3, audioId: 'audio-Âä®' },
  { char: 'Áà±', pinyin: '√†i', spanish: 'amar', unit: 3, audioId: 'audio-Áà±' },
  { char: 'Â•Ω', pinyin: 'h√†o', spanish: 'hobby', unit: 3, audioId: 'audio-Â•Ω' },
  { char: 'Ë∏¢', pinyin: 'tƒ´', spanish: 'patear', unit: 3, audioId: 'audio-Ë∏¢' },
  { char: 'ÁêÉ', pinyin: 'qi√∫', spanish: 'bal√≥n', unit: 3, audioId: 'audio-ÁêÉ' },
  { char: 'Áîª', pinyin: 'hu√†', spanish: 'dibujar', unit: 3, audioId: 'audio-Áîª' },
  { char: 'ÁΩë', pinyin: 'w«éng', spanish: 'internet', unit: 3, audioId: 'audio-ÁΩë' },
  { char: 'Â§ú', pinyin: 'y√®', spanish: 'noche', unit: 3, audioId: 'audio-Â§ú' },
  { char: 'Ë∫´', pinyin: 'shƒìn', spanish: 'cuerpo', unit: 3, audioId: 'audio-Ë∫´' },
  { char: 'Ê∏∏', pinyin: 'y√≥u', spanish: 'nadar', unit: 3, audioId: 'audio-Ê∏∏' },
  { char: 'Êàè', pinyin: 'x√¨', spanish: 'juego', unit: 3, audioId: 'audio-Êàè' },
  { char: 'È¶Ü', pinyin: 'gu«én', spanish: 'museo', unit: 3, audioId: 'audio-È¶Ü' },
  { char: 'Áé©', pinyin: 'w√°n', spanish: 'jugar', unit: 3, audioId: 'audio-Áé©' },
  { char: 'Êãç', pinyin: 'pƒÅi', spanish: 'tomar foto', unit: 3, audioId: 'audio-Êãç' },
  { char: 'Áâá', pinyin: 'pi√†n', spanish: 'foto', unit: 3, audioId: 'audio-Áâá' }
];
    let currentIndex = 0;
    let writer = null;
    let isDrawing = false;
    let showGuide = true;
    let lastX = 0;
    let lastY = 0;

    // Canvas setup
    const canvas = document.getElementById('character-canvas');
    const ctx = canvas.getContext('2d');
    ctx.lineCap = 'round';
    ctx.lineJoin = 'round';

    // Stroke width control
    const strokeWidthInput = document.getElementById('stroke-width');
    const strokeValueDisplay = document.getElementById('stroke-value');
    strokeWidthInput.addEventListener('input', (e) => {
      ctx.lineWidth = e.target.value;
      strokeValueDisplay.textContent = e.target.value;
    });
    ctx.lineWidth = strokeWidthInput.value;

    // Drawing functions
    function startDrawing(e) {
      isDrawing = true;
      const rect = canvas.getBoundingClientRect();
      const x = (e.clientX || e.touches[0].clientX) - rect.left;
      const y = (e.clientY || e.touches[0].clientY) - rect.top;
      lastX = x * (canvas.width / rect.width);
      lastY = y * (canvas.height / rect.height);
    }

    function draw(e) {
      if (!isDrawing) return;
      e.preventDefault();
      
      const rect = canvas.getBoundingClientRect();
      const x = (e.clientX || e.touches[0].clientX) - rect.left;
      const y = (e.clientY || e.touches[0].clientY) - rect.top;
      const currentX = x * (canvas.width / rect.width);
      const currentY = y * (canvas.height / rect.height);

      ctx.strokeStyle = '#000';
      ctx.beginPath();
      ctx.moveTo(lastX, lastY);
      ctx.lineTo(currentX, currentY);
      ctx.stroke();

      lastX = currentX;
      lastY = currentY;
    }

    function stopDrawing() {
      isDrawing = false;
    }

    // Mouse events
    canvas.addEventListener('mousedown', startDrawing);
    canvas.addEventListener('mousemove', draw);
    canvas.addEventListener('mouseup', stopDrawing);
    canvas.addEventListener('mouseout', stopDrawing);

    // Touch events for mobile
    canvas.addEventListener('touchstart', (e) => {
      e.preventDefault();
      startDrawing(e);
    });
    canvas.addEventListener('touchmove', (e) => {
      e.preventDefault();
      draw(e);
    });
    canvas.addEventListener('touchend', (e) => {
      e.preventDefault();
      stopDrawing();
    });

    function clearCanvas() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      if (showGuide) {
        drawGuideCharacter();
      }
    }

    function drawGuideCharacter() {
      const item = characters[currentIndex];
      ctx.save();
      ctx.font = '180px Arial';
      ctx.fillStyle = 'rgba(200, 200, 200, 0.3)';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';
      ctx.fillText(item.char, canvas.width / 2, canvas.height / 2);
      ctx.restore();
    }

    function toggleGuide() {
      showGuide = !showGuide;
      const currentLineWidth = ctx.lineWidth;
      clearCanvas();
      ctx.lineWidth = currentLineWidth;
    }

    function toggleMobileMenu() {
      const sidebar = document.getElementById('sidebar');
      sidebar.classList.toggle('show');
    }

    // Function to replay the character animation
    function replayAnimation() {
      if (writer) {
        writer.animateCharacter();
      }
    }

    function showCharacter(index) {
      if (index >= characters.length) {
        index = 0;
      } else if (index < 0) {
        index = characters.length - 1;
      }
      currentIndex = index;
      const item = characters[index];

      // Update current word display
      document.getElementById('current-word').textContent = `${item.char} (${item.pinyin}) - ${item.spanish}`;

      // Update HanziWriter display
      const targetDiv = document.getElementById('character-target-div');
      targetDiv.innerHTML = '';

      const divWidth = targetDiv.offsetWidth || 150;
      const divHeight = targetDiv.offsetHeight || 150;
      
      writer = HanziWriter.create('character-target-div', item.char, {
        width: divWidth,
        height: divHeight,
        padding: 10,
        strokeColor: '#000',
        strokeAnimationSpeed: 1,
        delayBetweenStrokes: 300,
      });
      writer.animateCharacter();

      // Clear and update canvas
      clearCanvas();

      // Update active button in sidebar
      const buttons = document.querySelectorAll('.sidebar button');
      buttons.forEach((btn, i) => {
        if (i === index) {
          btn.classList.add('active');
        } else {
          btn.classList.remove('active');
        }
      });

      // Close mobile menu after selection on small screens
      if (window.innerWidth <= 600) {
        const sidebar = document.getElementById('sidebar');
        sidebar.classList.remove('show');
      }
    }

    function generateMenu() {
      const menu = document.getElementById('character-menu');
      characters.forEach((item, index) => {
        const li = document.createElement('li');
        const button = document.createElement('button');
        button.textContent = `${item.char} (${item.pinyin})`;
        button.addEventListener('click', () => showCharacter(index));
        li.appendChild(button);
        menu.appendChild(li);
      });
    }

    // Initialize
    generateMenu();
    showCharacter(currentIndex);

    // Navigation buttons
    document.getElementById('prev-button').addEventListener('click', () => {
      showCharacter(currentIndex - 1);
    });

    document.getElementById('next-button').addEventListener('click', () => {
      showCharacter(currentIndex + 1);
    });

    // Handle window resize
    let resizeTimeout;
    window.addEventListener('resize', () => {
      clearTimeout(resizeTimeout);
      resizeTimeout = setTimeout(() => {
        showCharacter(currentIndex);
      }, 250);
    });


    // Play Audio function
    function playAudio() {
            const audioId = characters[currentIndex].audioId;
            const audio = document.getElementById(audioId);
            if (audio) {
                audio.play();
            }
        }
  </script>
</body>
</html>